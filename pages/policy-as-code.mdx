---
name: Policy as code
---

# Policy as code

## Policy 

At the core of Asertoâ€™s authorization model is an authorization policy, which we refer to simply 
as a **Policy**. Policies are authored in a textual language called [Rego](https://www.openpolicyagent.org/docs/latest/policy-language/),
defined as part of the [Open Policy Agent](https://www.openpolicyagent.org/) (OPA) project in the 
[Cloud Native Computing Foundation](https://www.cncf.io/). Policies are treated just like application code or 
infrastructure-as-code - they are stored and versioned in a git repository.

## The policy lifecycle

Policies are **authored** using a text / code editor, **built** into an image, **published** to a repository hosted on 
a registry, **run** in an Authorizer, and **consumed** by an application.

![Policy as code](/policy-as-code.png)

### Author

Policies are comprised of a collection of `.rego` files and `.json` files, which provide static data that 
can be part of the policy.

### Build 

The set of source files that comprise a policy are built into a **Policy Image** using a set of tools that 
are modeled after the `docker` toolset.  You can build and tag a policy just like you build and tag a docker image.

### Publish 

You can push a policy image to a **Policy Repository**, which is hosted in a **Policy Registry**, such as `registry.prod.aserto.com`.

You can pull a policy image from a Policy Repository just like you pull a docker image.

### Run

You can run a policy image, which loads it into an **Authorizer** instance.  

### Consume

An application that wants to 
authorize a user's access to a resource based on the policy can call the Authorizer, passing it the user, resource, 
and policy, and the Authorizer will evaluate the policy with the provided inputs and returns a boolean result of 
whether the user has access to the resource based on the given policy.
